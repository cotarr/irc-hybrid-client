<!DOCTYPE html>
<html lang="en" dir="ltr">
	<head>
		<meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">

		<title>FAQ</title>
    <link rel="stylesheet" href="css/styles.css">
	</head>
	<body>
    <div class="header-div">
      Documentation for
      <a href="https://github.com/cotarr/irc-hybrid-client">irc-hybrid-client</a>
    </div>
    <div class="menu-div-fixed">
      <div class="menu-div">
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="installation.html">Installation</a></li>
          <li><a href="login-config.html">Login Config</a></li>
          <li><a href="server-config.html">IRC Config</a></li>
          <li><a href="text-commands.html">Text Commands</a></li>
          <li><a class="active" href="faq.html">FAQ</a></li>
          <li><a href="coding.html">Coding Notes</a></li>
          <li><a href="api.html">API Examples</a></li>
          <li><a href="license.html">License</a></li>
        </ul>
      </div>
    </div> <!-- /menu-div-fixed -->

    <div class="outer-div">
      <div class="text-div">
        <div class="desc-title">
          F.A.Q.
        </div>
        <div class="faq-spacer"></div>
        <a href="#faq-purpose">Why did you write this program?</a><br>
        <a href="#challenges">What difficult challenges did you face?</a><br>
        <a href="#multiuser">Are multiple users supported?</a><br>
        <a href="#multinet">Are multiple IRC networks supported?</a><br>
        <a href="#concurrent">Are concurrent connections supported?</a><br>
        <a href="#tracking">Are there any tracking beacons in the code?</a><br>
        <a href="#cookies">Does the program use cookies?</a><br>
        <a href="#localstorage">What data is stored locally in the web browser?</a><br>
        <div class="faq-spacer"></div>
        <table class="table-generic">

          <tr><td><a name="faq-purpose">
            <p>
              Q: Why did you write this program?<br>
            </p>
            A: That's a good question. There are already many excellent IRC clients to choose
            from. WeeChat is my favorite. Why write my own?
            Actually, I ran across a youtube video where a simple telnet
            client was easily able to emulate an IRC client. I became interested
            and I started to explore using my own telnet program
            while reading the RFC-2812 client protocol. I soon found
            telnet very repetitious, so I opened nodejs and with a little
            Googling, I had a TCP socket connecting to IRC. Soon I was using javascript
            to exchange IRC messages with the IRC server. It was really fun and I learned a lot.
            <br><br>
            As a second inspiration, I have tried several options to use IRC on my iPhone.
            I really didn't like any of them. Given the Covid-19 pandemic lockdown,
            I've been primarily stuck at home with nothing to do. Over the
            period of about a month, this slowly evolved into an IRC client. I started to use it
            as my regular IRC smartphone client. This started the endless process of
            adjusting IRC client user interface to adapt to smartphone capabilities.
            I guess I'm still in the process of finding a better UI.
          </a></td></tr>

          <tr><td><a name="challenges">
            <p>
              Q: What difficult challenges did you face?<br>
            </p>
            A: I found it challenging to work with sockets. I used the npm package "ws"
            as a websocket server for the browser connection, and nodejs API net.Socket or tls.TLSSocket
            to connect to IRC.
            Addressing tasks like wrapping the websocket in TLS,
            security authorization of the browser's websocket connection,
            detecting disconnects, and dealing with legacy disconnected sockets
            was an interesting learning experience.
            <br><br>
            I also found it tricky to encode and decode buffers of multi-byte international
            characters where a string byte length is different from the string character length.
            Then, from a stream/message standpoint, multiple messages from the server can
            concatenate into a single socket data packet, or
            one individual IRC message can split between two different data packets, requiring
            re-assembly into a single string.
          </a></td></tr>

          <tr><td><a name="multiuser">
            <p>
              Q: Are multiple users supported?<br>
            </p>
            A: No. This operates as a single user personal server.
            One person per webserver instance.
          </a></td></tr>

          <tr><td><a name="multinet">
            <p>
              Q: Are multiple IRC networks supported?<br>
            </p>
            A: No. The application is limited to one IRC network connection at a time.
            You can sign out of IRC and switch between different IRC networks using the [Next] button.
            <br><br>
            However, a single user can be present on multiple IRC network by 
            running multiple instances of the irc-hybrid-client program concurrently.
            Each web server is required listen on a different port number. 
            This would provide a different browser bookmark URL (host:port) for each instance.
            Therefore different IRC networks could be attended in different browser tabs.
            Refer to the Login Config section to properly set &quot;instanceNumber&quot; to 
            manage unique cookies when running multiple irc-hybrid-client instances.
          </a></td></tr>

          <tr><td><a name="concurrent">
            <p>
              Q: Are concurrent connections supported?<br>
            </p>
            A: Yes. A desktop, tablet, and smartphone can be open at the same time.
            Each device will remain in sync, showing the same content in all devices concurrently.
          </a></td></tr>

          <tr><td><a name="tracking">
            <p>
              Q: Are there any tracking beacons in the code?<br>
            </p>
            A: No.
          </a></td></tr>

          <tr><td><a name="cookies">
            <p>
              Q: Does the program use cookies?<br>
            </p>
            A: Yes. Web browser HTTP requests are
            authorized using session cookies for purposes of access control.
            This is disclosed on the login form. No additional persistent
            identifiers are used.
          </a></td></tr>
          <tr><td><a name="localstorage">
            <p>
              Q: What data is stored locally in the web browser?<br>
            </p>
            A: The web page uses the web browsers window.localStorage API.
            The browser localStorage is cleared when the &quotWeb Logout&quot button is
            activated.
            The browser localStorage is cleared when the web login userid number
            does not match the previous userid number.
            The localStorage data will otherwise persist indefinitely.
            Local storage should not be preserved when a browser is in incognito mode.
            <br><br>
            1) Web userid - The web userid and timestamp are saved to localStorage.
            The userid is an integer number starting at 1 that is assigned in the credentials.js file.
            The userid number is used to delete localStorage when a change in userid is detected.
            The string value of the username is not saved.
            <br><br>
            2) IRC channel name - The IRC channel name and time stamp are saved to localStorage
            when an IRC channel &quotZoom&quot view mode is activated. This data is used
            to automatically select IRC channel view mode as zoomed when re-opening the web page.
            <br><br>
            3) IRC channel audio beep - A string value for the IRC channel name and a boolean flag
            for enable audio beep for an IRC channel are saved to localStorage when the checkboxes
            are selected. The data is used to select previous checkbox state when reloading the page.
            <br><br>
            4) Private message audio beep - A boolean flag used to enable audio beep 
            when new private message windows are created.
            The data is used to select previous checkbox state when reloading the page.
          </a></td></tr>
        </table>

      </div> <!-- /text-div -->

    </div> <!-- outer-div -->

    <div class="footer-div">
      Repository:
      <a href="https://github.com/cotarr/irc-hybrid-client">
        https://github.com/cotarr/irc-hybrid-client</a>
    </div> <!-- /footer-div -->
	</body>
</html>
